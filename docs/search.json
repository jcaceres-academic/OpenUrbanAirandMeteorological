[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "OpenUrbanAirandMeteorological",
    "section": "",
    "text": "This repository hosts the open, reproducible materials developed for the article submitted to Applied Sciences (MDPI, 2025):\n\nC√°ceres-Tello, J. & Gal√°n-Hern√°ndez, J.J. (2025).\nCitizen Science and STEM Education with R: Teaching Innovation through Open Urban Climate Data.\nApplied Sciences (MDPI).\n\nThe project demonstrates how R, Quarto, and open environmental datasets can be integrated to support STEM education, citizen science, and methodological transparency.\n\n\n\n\nThe workflow follows a complete educational and research pipeline:\n\nOpen data acquisition ‚Üí Madrid air quality & meteorological datasets (2020‚Äì2024)\n\nPreprocessing and harmonisation ‚Üí validation, Parquet conversion, and reproducibility scripts\n\nExploratory analysis ‚Üí pollutant variability and inter-station correlations\n\nForecasting models ‚Üí Prophet‚ÄìLSTM hybrid approach\n\nEducational visualisation ‚Üí Quarto Notebook for classroom integration\n\nRendered notebook:\nüëâ OpenUrbanAir_and_Meteorological_Workflow.html\n\n\n\n\nOpenUrbanAirandMeteorological/\n‚îú‚îÄ‚îÄ docs/                      # Quarto notebook and rendered HTML\n‚îÇ   ‚îú‚îÄ‚îÄ OpenUrbanAir_and_Meteorological_Workflow.qmd\n‚îÇ   ‚îú‚îÄ‚îÄ OpenUrbanAir_and_Meteorological_Workflow.html\n‚îÇ   ‚îî‚îÄ‚îÄ images/                # PNG figures used in the notebook\n‚îú‚îÄ‚îÄ figures_tiff/              # High-resolution TIFF figures for publication\n‚îú‚îÄ‚îÄ scripts/                   # R scripts for preprocessing and analysis\n‚îú‚îÄ‚îÄ .gitignore\n‚îú‚îÄ‚îÄ LICENSE\n‚îú‚îÄ‚îÄ datos.Rproj\n‚îî‚îÄ‚îÄ README.md\n\n\n\n\n\n\nCategory\nTools / Packages\n\n\n\n\nProgramming\nR 4.4 + ¬∑ Quarto\n\n\nData Handling\ntidyverse ¬∑ arrow ¬∑ lubridate\n\n\nVisualisation\nggplot2 ¬∑ patchwork ¬∑ leaflet ¬∑ cowplot\n\n\nForecasting\nprophet ¬∑ keras ¬∑ tensorflow ¬∑ torch\n\n\nReproducibility\nrenv ¬∑ knitr ¬∑ rmarkdown\n\n\n\n\n\n\nThis repository supports STEM education by providing: Hands-on examples for environmental informatics and sustainability courses Open-source reproducible R-Quarto workflow Didactic visualisations for citizen science and air quality literacy\n\n\n\nIf you reuse or adapt this resource, please cite as:\n\nC√°ceres-Tello, J., & Gal√°n-Hern√°ndez, J. J. (2025).\nOpenUrbanAirandMeteorological: Citizen Science and STEM Education with R ‚Äî Teaching Innovation through Open Urban Climate Data.\nApplied Sciences (MDPI).\nAvailable at https://jcaceres-academic.github.io/OpenUrbanAirandMeteorological\n\n\n\n\nCode and notebooks: Creative Commons Attribution 4.0 (CC BY 4.0)\nData (if reused): CC0 1.0 Public Domain Dedication\n\n\n\nJes√∫s C√°ceres Tello Department of Computer Systems and Computing Universidad Complutense de Madrid\nüìß jcaceres.academic@gmail.com\nüìß jescacer@ucm.es\n‚¨ÖÔ∏è Back to my main page\nThis repository supports open, transparent, and reproducible research in environmental data science and STEM education."
  },
  {
    "objectID": "index.html#overview",
    "href": "index.html#overview",
    "title": "Open Urban Air and Meteorological",
    "section": "üß† Overview",
    "text": "üß† Overview\nThis repository hosts the open, reproducible materials developed for the article submitted to Applied Sciences (MDPI, 2025):\nüìÑ Article\nC√°ceres-Tello, J. & Gal√°n-Hern√°ndez, J.J. (2025).\nCitizen Science and STEM Education with R: Teaching Innovation through Open Urban Climate Data.\nApplied Sciences (MDPI).\nDOI: 10.3390/app152212183\nThe project demonstrates how R, Quarto, and open environmental datasets can be integrated to support STEM education, citizen science, and methodological transparency."
  },
  {
    "objectID": "index.html#reproducible-workflow",
    "href": "index.html#reproducible-workflow",
    "title": "Open Urban Air and Meteorological",
    "section": "üß© Reproducible Workflow",
    "text": "üß© Reproducible Workflow\nThe workflow follows a complete educational and research pipeline:\n\nOpen data acquisition ‚Üí Madrid air quality & meteorological datasets (2020‚Äì2024)\n\nPreprocessing and harmonisation ‚Üí validation, Parquet conversion, and reproducibility scripts\n\nExploratory analysis ‚Üí pollutant variability and inter-station correlations\n\nForecasting models ‚Üí Prophet‚ÄìLSTM hybrid approach\n\nEducational visualisation ‚Üí Quarto Notebook for classroom integration\n\nRendered notebook:\nüëâ OpenUrbanAir_and_Meteorological_Workflow.html"
  },
  {
    "objectID": "index.html#repository-structure",
    "href": "index.html#repository-structure",
    "title": "Open Urban Air and Meteorological",
    "section": "üóÇÔ∏è Repository Structure",
    "text": "üóÇÔ∏è Repository Structure\nOpenUrbanAirandMeteorological/\n‚îú‚îÄ‚îÄ docs/                      # Quarto notebook and rendered HTML\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ notebook.html\n‚îÇ   ‚îî‚îÄ‚îÄ OpenUrbanAir_and_Meteorological_Workflow.html\n‚îú‚îÄ‚îÄ images/                    # PNG figures used in the notebook\n‚îú‚îÄ‚îÄ figures_tiff/              # High-resolution TIFF figures for publication\n‚îú‚îÄ‚îÄ scripts/                   # R scripts for preprocessing and analysis\n‚îú‚îÄ‚îÄ index.qmd\n‚îú‚îÄ‚îÄ notebook.qmd\n‚îú‚îÄ‚îÄ OpenUrbanAir_and_Meteorological_Workflow.qmd\n‚îú‚îÄ‚îÄ .gitignore\n‚îú‚îÄ‚îÄ LICENSE\n‚îú‚îÄ‚îÄ _quarto.yml\n‚îú‚îÄ‚îÄ datos.Rproj\n‚îî‚îÄ‚îÄ README.md"
  },
  {
    "objectID": "index.html#technologies-used",
    "href": "index.html#technologies-used",
    "title": "Open Urban Air and Meteorological",
    "section": "‚öôÔ∏è Technologies Used",
    "text": "‚öôÔ∏è Technologies Used\n\n\n\nCategory\nTools / Packages\n\n\n\n\nProgramming\nR 4.4 + ¬∑ Quarto\n\n\nData Handling\ntidyverse ¬∑ arrow ¬∑ lubridate\n\n\nVisualisation\nggplot2 ¬∑ patchwork ¬∑ leaflet ¬∑ cowplot\n\n\nForecasting\nprophet ¬∑ keras ¬∑ tensorflow ¬∑ torch\n\n\nReproducibility\nrenv ¬∑ knitr ¬∑ rmarkdown"
  },
  {
    "objectID": "index.html#educational-use",
    "href": "index.html#educational-use",
    "title": "Open Urban Air and Meteorological",
    "section": "üß≠ Educational Use",
    "text": "üß≠ Educational Use\nThis repository supports STEM education by providing: Hands-on examples for environmental informatics and sustainability courses Open-source reproducible R-Quarto workflow Didactic visualisations for citizen science and air quality literacy"
  },
  {
    "objectID": "index.html#citation",
    "href": "index.html#citation",
    "title": "Open Urban Air and Meteorological",
    "section": "üìö Citation",
    "text": "üìö Citation\nIf you reuse or adapt this resource, please cite as:\n\nC√°ceres-Tello, J., & Gal√°n-Hern√°ndez, J. J. (2025).\nOpenUrbanAirandMeteorological: Citizen Science and STEM Education with R ‚Äî Teaching Innovation through Open Urban Climate Data.\nApplied Sciences (MDPI).\nAvailable at https://jcaceres-academic.github.io/OpenUrbanAirandMeteorological"
  },
  {
    "objectID": "index.html#license",
    "href": "index.html#license",
    "title": "Open Urban Air and Meteorological",
    "section": "‚öñÔ∏è License",
    "text": "‚öñÔ∏è License\nCode and notebooks: Creative Commons Attribution 4.0 (CC BY 4.0)\nData (if reused): CC0 1.0 Public Domain Dedication"
  },
  {
    "objectID": "index.html#contact",
    "href": "index.html#contact",
    "title": "Open Urban Air and Meteorological",
    "section": "üì¨ Contact",
    "text": "üì¨ Contact\nJes√∫s C√°ceres Tello Department of Computer Systems and Computing Universidad Complutense de Madrid\nüìß jcaceres.academic@gmail.com\nüìß jescacer@ucm.es\n‚¨ÖÔ∏è Back to my main page\nThis repository supports open, transparent, and reproducible research in environmental data science and STEM education."
  },
  {
    "objectID": "notebook.html",
    "href": "notebook.html",
    "title": "Educational Notebook",
    "section": "",
    "text": "This notebook complements the article Citizen Science and STEM Education with R: AI‚ÄìIoT Forecasting and Reproducible Learning from Open Urban Air Quality Data\n(Applied Sciences, 2025) and includes reproducible code examples, data harmonisation workflows, and visualisations.\nIt reproduces the main analytical workflow implemented in the study and illustrates how R and Quarto can be integrated into STEM education to foster data literacy, environmental awareness, and methodological transparency."
  },
  {
    "objectID": "notebook.html#introduction",
    "href": "notebook.html#introduction",
    "title": "Educational Notebook",
    "section": "",
    "text": "This notebook complements the article Citizen Science and STEM Education with R: AI‚ÄìIoT Forecasting and Reproducible Learning from Open Urban Air Quality Data\n(Applied Sciences, 2025) and includes reproducible code examples, data harmonisation workflows, and visualisations.\nIt reproduces the main analytical workflow implemented in the study and illustrates how R and Quarto can be integrated into STEM education to foster data literacy, environmental awareness, and methodological transparency."
  },
  {
    "objectID": "notebook.html#air-quality-data",
    "href": "notebook.html#air-quality-data",
    "title": "Educational Notebook",
    "section": "3.1 Air Quality Data",
    "text": "3.1 Air Quality Data\nAir quality datasets were retrieved from the Madrid Open Data Portal (Portal de Datos Abiertos del Ayuntamiento de Madrid).\nMeasurements include nitrogen dioxide (NO‚ÇÇ), ozone (O‚ÇÉ), particulate matter (PM‚ÇÅ‚ÇÄ, PM‚ÇÇ.‚ÇÖ), sulphur dioxide (SO‚ÇÇ), and carbon monoxide (CO) recorded hourly across 24 urban stations (2020‚Äì2024).\n\n\n\n\n\nFig. 2a. Air quality monitoring stations across the Madrid urban area (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.html#pollutant-coverage",
    "href": "notebook.html#pollutant-coverage",
    "title": "Educational Notebook",
    "section": "3.2 Pollutant Coverage",
    "text": "3.2 Pollutant Coverage\nEach station has different pollutant coverage and measurement frequency, which provides an excellent example for students to explore data completeness and measurement uncertainty in open environmental datasets.\n\n\n\n\n\nFig. 2b. Pollutant coverage and measurement frequency across monitoring stations."
  },
  {
    "objectID": "notebook.html#data-processing-workflow",
    "href": "notebook.html#data-processing-workflow",
    "title": "Educational Notebook",
    "section": "3.3 Data Processing Workflow",
    "text": "3.3 Data Processing Workflow\nData from both sources were processed in R through three main stages:\n\nReading and cleaning monthly CSVs (removing redundant columns and correcting data types).\n\nValidating records with confirmed measurements (VAL flag).\n\nPivoting and compressing results into parquet format for efficiency and consistency.\n\n\n\n\n\n\nFig. 3. Data acquisition, validation, and harmonisation workflow implemented in R."
  },
  {
    "objectID": "notebook.html#annual-and-seasonal-variability",
    "href": "notebook.html#annual-and-seasonal-variability",
    "title": "Educational Notebook",
    "section": "4.1 Annual and Seasonal Variability",
    "text": "4.1 Annual and Seasonal Variability\nFigure 4 shows the annual variability of daily mean NO‚ÇÇ and O‚ÇÉ concentrations over the 2020‚Äì2024 period. NO‚ÇÇ concentrations display relatively stable distributions with a slight reduction in median values in the most recent years. In contrast, O‚ÇÉ exhibits higher dispersion and a progressive increase in median and upper-range concentrations, reflecting its pronounced seasonal behaviour.\nOverall, the boxplots highlight distinct distributional patterns between the primary pollutant (NO‚ÇÇ) and the secondary pollutant (O‚ÇÉ), providing a descriptive baseline for the subsequent correlation and modelling analyses.\n\n\n\n\n\nFig. 4. Annual variability of NO‚ÇÇ and O‚ÇÉ concentrations (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.html#distribution-analysis",
    "href": "notebook.html#distribution-analysis",
    "title": "Educational Notebook",
    "section": "4.2 Distribution Analysis",
    "text": "4.2 Distribution Analysis\nBoxplots provide a powerful visual tool to discuss dispersion, central tendency, and outliers across pollutants.\nIn this context, students learn how descriptive statistics translate into environmental interpretation, reinforcing quantitative reasoning with real data.\n\n\n\n\n\nFig. 8. Boxplots of NO‚ÇÇ and O‚ÇÉ concentrations across 2020‚Äì2024."
  },
  {
    "objectID": "notebook.html#model-for-no‚ÇÇ",
    "href": "notebook.html#model-for-no‚ÇÇ",
    "title": "Educational Notebook",
    "section": "5.1 Model for NO‚ÇÇ",
    "text": "5.1 Model for NO‚ÇÇ\nStudents can visualise how additive components ‚Äî trend, seasonality, and residuals ‚Äî reveal the influence of human activity and meteorological cycles on pollutant evolution. This exercise supports reproducible experimentation with forecasting horizons, cross-validation, and performance metrics such as RMSE or MAE.\n\n\n\n\n\nFig. 5a. Prophet forecast for NO‚ÇÇ concentrations (2020‚Äì2024).\n\n\n\n\n\n\n\n\n\nFig. 5b. Prophet forecast for O‚ÇÉ concentrations (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.html#integration-workflow",
    "href": "notebook.html#integration-workflow",
    "title": "Educational Notebook",
    "section": "6.1 Integration Workflow",
    "text": "6.1 Integration Workflow\n\n\n\n\n\nFig. 7. Integration workflow of meteorological and air quality data (2020‚Äì2024)."
  },
  {
    "objectID": "index.html#bibliographic-resources",
    "href": "index.html#bibliographic-resources",
    "title": "Open Urban Air and Meteorological",
    "section": "üìö Bibliographic Resources",
    "text": "üìö Bibliographic Resources\nThe complete set of references cited in the article is available in the file\napplsci-3979500.bib.\nIt contains all bibliographic records used in the research and manuscript\nCitizen Science and STEM Education with R: AI‚ÄìIoT Forecasting and Reproducible Learning from Open Urban Air Quality Data\n(Applied Sciences, MDPI, 2025).\nThis file follows the Better BibTeX format with active DOIs for interoperability\nwith Zotero, Quarto, and R Markdown workflows.\nA mirrored copy is also archived in the author‚Äôs Zotero collection for citation reproducibility:\n‚û°Ô∏è Zotero: applsci-3979500 Collection"
  },
  {
    "objectID": "notebook.html#correlation-analysis-between-pollutants-and-meteorological-variables",
    "href": "notebook.html#correlation-analysis-between-pollutants-and-meteorological-variables",
    "title": "Educational Notebook",
    "section": "6.2 Correlation Analysis between Pollutants and Meteorological Variables",
    "text": "6.2 Correlation Analysis between Pollutants and Meteorological Variables\nTo complement the integration workflow, this section computes the Spearman correlations between daily concentrations of NO‚ÇÇ and O‚ÇÉ and six meteorological parameters (temperature, relative humidity, wind speed, solar radiation, atmospheric pressure, and precipitation) using the validated datasets (2020‚Äì2024).\n\n\nCode\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(corrr)\nlibrary(knitr)\nlibrary(purrr)\nlibrary(lubridate)\n\n# --- 1. Cargar y combinar archivos anuales ---\nair_files &lt;- list.files(\n  \"data/Calidad del Aire_Parquet\",\n  pattern = \"aire_validados_.*\\\\.parquet$\",\n  full.names = TRUE\n)\n\nmet_files &lt;- list.files(\n  \"data/Meteorologia_Parquet\",\n  pattern = \"meteo_validados_.*\\\\.parquet$\",\n  full.names = TRUE\n)\n\nair &lt;- map_dfr(air_files, read_parquet)\nmet &lt;- map_dfr(met_files, read_parquet)\n\n# --- 2. Crear variable diaria ---\nair &lt;- air %&gt;%\n  mutate(date = as.Date(FECHA_HORA))\n\nmet &lt;- met %&gt;%\n  mutate(date = as.Date(FECHA_HORA))\n\n# --- 3. Agregar diariamente y pivotar a formato ancho ---\nair_wide &lt;- air %&gt;%\n  mutate(MAGNITUD = as.character(MAGNITUD)) %&gt;%\n  group_by(date, MAGNITUD) %&gt;%\n  summarise(valor = mean(VALOR, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  pivot_wider(names_from = MAGNITUD, values_from = valor)\n\nmet_wide &lt;- met %&gt;%\n  mutate(MAGNITUD = as.character(MAGNITUD)) %&gt;%\n  group_by(date, MAGNITUD) %&gt;%\n  summarise(valor = mean(VALOR, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  pivot_wider(names_from = MAGNITUD, values_from = valor)\n\n# --- 4. Unir por fecha ---\ndata_joined &lt;- inner_join(air_wide, met_wide, by = \"date\")\n\n# --- 5. Renombrar magnitudes (solo las que existen) ---\ndata_joined &lt;- data_joined %&gt;%\n  rename_with(\n    ~ recode(\n      .x,\n      `8`  = \"NO2\",\n      `14` = \"O3\",\n      `81` = \"WS\",\n      `83` = \"T\",\n      `85` = \"PRES\",\n      `86` = \"RH\",\n      `87` = \"SR\",\n      `89` = \"PREC\"\n    ),\n    .cols = intersect(\n      names(data_joined),\n      c(\"8\", \"14\", \"81\", \"83\", \"85\", \"86\", \"87\", \"89\")\n    )\n  )\n\n# --- 6. Calcular correlaciones de Spearman (robusto) ---\nvars &lt;- c(\"NO2\", \"O3\", \"T\", \"RH\", \"WS\", \"SR\", \"PRES\", \"PREC\")\n\ncor_matrix &lt;- data_joined %&gt;%\n  select(any_of(vars)) %&gt;%\n  correlate(method = \"spearman\") %&gt;%\n  focus(any_of(c(\"NO2\", \"O3\"))) %&gt;%\n  arrange(term)\n\n# --- 7. Mostrar tabla formateada ---\nkable(\n  cor_matrix %&gt;%\n    mutate(across(where(is.numeric), ~ round(.x, 2))),\n  caption = \"Table 4. Spearman correlation coefficients (œÅ) between daily pollutant concentrations and meteorological variables (2020‚Äì2024).\",\n  col.names = c(\"Variable\", \"NO‚ÇÇ\", \"O‚ÇÉ\")\n)\n\n\n\nTable 4. Spearman correlation coefficients (œÅ) between daily pollutant concentrations and meteorological variables (2020‚Äì2024).\n\n\nVariable\nNO‚ÇÇ\nO‚ÇÉ\n\n\n\n\nPREC\n-0.18\n-0.11\n\n\nRH\n0.24\n-0.70\n\n\nSR\n0.55\n-0.46\n\n\nT\n-0.35\n0.68\n\n\nWS\n-0.75\n0.57"
  },
  {
    "objectID": "notebook.html#correlation-analysis-between-pollutants-and-meteorological-variables-1",
    "href": "notebook.html#correlation-analysis-between-pollutants-and-meteorological-variables-1",
    "title": "Educational Notebook",
    "section": "4.3 Correlation Analysis between Pollutants and Meteorological Variables",
    "text": "4.3 Correlation Analysis between Pollutants and Meteorological Variables\n\n\nCode\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(corrr)\nlibrary(knitr)\nlibrary(purrr)\nlibrary(lubridate)\n\n# --- 1. Cargar y combinar archivos anuales ---\nair_files &lt;- list.files(\n  \"data/Calidad del Aire_Parquet\",\n  pattern = \"aire_validados_.*\\\\.parquet$\",\n  full.names = TRUE\n)\n\nmet_files &lt;- list.files(\n  \"data/Meteorologia_Parquet\",\n  pattern = \"meteo_validados_.*\\\\.parquet$\",\n  full.names = TRUE\n)\n\nair &lt;- map_dfr(air_files, read_parquet)\nmet &lt;- map_dfr(met_files, read_parquet)\n\n# --- 2. Crear variable diaria ---\nair &lt;- air %&gt;%\n  mutate(date = as.Date(FECHA_HORA))\n\nmet &lt;- met %&gt;%\n  mutate(date = as.Date(FECHA_HORA))\n\n# --- 3. Agregar diariamente y pivotar a formato ancho ---\nair_wide &lt;- air %&gt;%\n  mutate(MAGNITUD = as.character(MAGNITUD)) %&gt;%\n  group_by(date, MAGNITUD) %&gt;%\n  summarise(valor = mean(VALOR, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  pivot_wider(names_from = MAGNITUD, values_from = valor)\n\nmet_wide &lt;- met %&gt;%\n  mutate(MAGNITUD = as.character(MAGNITUD)) %&gt;%\n  group_by(date, MAGNITUD) %&gt;%\n  summarise(valor = mean(VALOR, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  pivot_wider(names_from = MAGNITUD, values_from = valor)\n\n# --- 4. Unir por fecha ---\ndata_joined &lt;- inner_join(air_wide, met_wide, by = \"date\")\n\n# --- 5. Renombrar magnitudes (solo las que existen) ---\ndata_joined &lt;- data_joined %&gt;%\n  rename_with(\n    ~ recode(\n      .x,\n      `8`  = \"NO2\",\n      `14` = \"O3\",\n      `81` = \"WS\",\n      `83` = \"T\",\n      `85` = \"PRES\",\n      `86` = \"RH\",\n      `87` = \"SR\",\n      `89` = \"PREC\"\n    ),\n    .cols = intersect(\n      names(data_joined),\n      c(\"8\", \"14\", \"81\", \"83\", \"85\", \"86\", \"87\", \"89\")\n    )\n  )\n\n# --- 6. Calcular correlaciones de Spearman (robusto) ---\nvars &lt;- c(\"NO2\", \"O3\", \"T\", \"RH\", \"WS\", \"SR\", \"PRES\", \"PREC\")\n\ncor_matrix &lt;- data_joined %&gt;%\n  select(any_of(vars)) %&gt;%\n  correlate(method = \"spearman\") %&gt;%\n  focus(any_of(c(\"NO2\", \"O3\"))) %&gt;%\n  arrange(term)\n\n# --- 7. Mostrar tabla formateada ---\nkable(\n  cor_matrix %&gt;%\n    mutate(across(where(is.numeric), ~ round(.x, 2))),\n  caption = \"Table 4. Spearman correlation coefficients (œÅ) between daily pollutant concentrations and meteorological variables (2020‚Äì2024).\",\n  col.names = c(\"Variable\", \"NO‚ÇÇ\", \"O‚ÇÉ\")\n)\n\n\n\nTable 4. Spearman correlation coefficients (œÅ) between daily pollutant concentrations and meteorological variables (2020‚Äì2024).\n\n\nVariable\nNO‚ÇÇ\nO‚ÇÉ\n\n\n\n\nPREC\n-0.18\n-0.11\n\n\nRH\n0.24\n-0.70\n\n\nSR\n0.55\n-0.46\n\n\nT\n-0.35\n0.68\n\n\nWS\n-0.75\n0.57"
  },
  {
    "objectID": "notebook.knit.html",
    "href": "notebook.knit.html",
    "title": "Educational Notebook",
    "section": "",
    "text": "This notebook complements the article Citizen Science and STEM Education with R: AI‚ÄìIoT Forecasting and Reproducible Learning from Open Urban Air Quality Data\n(Applied Sciences, 2025) and includes reproducible code examples, data harmonisation workflows, and visualisations.\nIt reproduces the main analytical workflow implemented in the study and illustrates how R and Quarto can be integrated into STEM education to foster data literacy, environmental awareness, and methodological transparency."
  },
  {
    "objectID": "notebook.knit.html#introduction",
    "href": "notebook.knit.html#introduction",
    "title": "Educational Notebook",
    "section": "",
    "text": "This notebook complements the article Citizen Science and STEM Education with R: AI‚ÄìIoT Forecasting and Reproducible Learning from Open Urban Air Quality Data\n(Applied Sciences, 2025) and includes reproducible code examples, data harmonisation workflows, and visualisations.\nIt reproduces the main analytical workflow implemented in the study and illustrates how R and Quarto can be integrated into STEM education to foster data literacy, environmental awareness, and methodological transparency."
  },
  {
    "objectID": "notebook.knit.html#air-quality-data",
    "href": "notebook.knit.html#air-quality-data",
    "title": "Educational Notebook",
    "section": "2.1 Air Quality Data",
    "text": "2.1 Air Quality Data\nAir quality datasets were retrieved from the Madrid Open Data Portal (Portal de Datos Abiertos del Ayuntamiento de Madrid).\nMeasurements include nitrogen dioxide (NO‚ÇÇ), ozone (O‚ÇÉ), particulate matter (PM‚ÇÅ‚ÇÄ, PM‚ÇÇ.‚ÇÖ), sulphur dioxide (SO‚ÇÇ), and carbon monoxide (CO) recorded hourly across 24 urban stations (2020‚Äì2024).\n\n\n\n\n\nFig. 2a. Air quality monitoring stations across the Madrid urban area (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.knit.html#pollutant-coverage",
    "href": "notebook.knit.html#pollutant-coverage",
    "title": "Educational Notebook",
    "section": "2.2 Pollutant Coverage",
    "text": "2.2 Pollutant Coverage\nEach station has different pollutant coverage and measurement frequency, which provides an excellent example for students to explore data completeness and measurement uncertainty in open environmental datasets.\n\n\n\n\n\nFig. 2b. Pollutant coverage and measurement frequency across monitoring stations."
  },
  {
    "objectID": "notebook.knit.html#data-processing-workflow",
    "href": "notebook.knit.html#data-processing-workflow",
    "title": "Educational Notebook",
    "section": "2.3 Data Processing Workflow",
    "text": "2.3 Data Processing Workflow\nData from both sources were processed in R through three main stages:\n\nReading and cleaning monthly CSVs (removing redundant columns and correcting data types).\n\nValidating records with confirmed measurements (VAL flag).\n\nPivoting and compressing results into parquet format for efficiency and consistency.\n\n\n\n\n\n\nFig. 3. Data acquisition, validation, and harmonisation workflow implemented in R."
  },
  {
    "objectID": "notebook.knit.html#annual-and-seasonal-variability",
    "href": "notebook.knit.html#annual-and-seasonal-variability",
    "title": "Educational Notebook",
    "section": "3.1 Annual and Seasonal Variability",
    "text": "3.1 Annual and Seasonal Variability\n\n\n\n\n\nFig. 4. Annual variability of NO‚ÇÇ and O‚ÇÉ concentrations (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.knit.html#distribution-analysis",
    "href": "notebook.knit.html#distribution-analysis",
    "title": "Educational Notebook",
    "section": "3.2 Distribution Analysis",
    "text": "3.2 Distribution Analysis\nBoxplots provide a powerful visual tool to discuss dispersion, central tendency, and outliers across pollutants.\nIn this context, students learn how descriptive statistics translate into environmental interpretation, reinforcing quantitative reasoning with real data.\n\n\n\n\n\nFig. 8. Boxplots of NO‚ÇÇ and O‚ÇÉ concentrations across 2020‚Äì2024.\n\n\n\n\n\n#üîÆ Forecasting with Prophet\nTime-series forecasting introduces students to predictive modelling using open environmental data.\nThe Prophet model (Taylor & Letham, 2018) was selected for its interpretability, decomposition structure, and robustness to missing values ‚Äî key features for teaching reproducible forecasting in R."
  },
  {
    "objectID": "notebook.knit.html#model-for-no‚ÇÇ",
    "href": "notebook.knit.html#model-for-no‚ÇÇ",
    "title": "Educational Notebook",
    "section": "3.3 Model for NO‚ÇÇ",
    "text": "3.3 Model for NO‚ÇÇ\nStudents can visualise how additive components ‚Äî trend, seasonality, and residuals ‚Äî reveal the influence of human activity and meteorological cycles on pollutant evolution. This exercise supports reproducible experimentation with forecasting horizons, cross-validation, and performance metrics such as RMSE or MAE.\n\n\n\n\n\nFig. 5a. Prophet forecast for NO‚ÇÇ concentrations (2020‚Äì2024).\n\n\n\n\n\n\n\n\n\nFig. 5b. Prophet forecast for O‚ÇÉ concentrations (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.knit.html#integration-workflow",
    "href": "notebook.knit.html#integration-workflow",
    "title": "Educational Notebook",
    "section": "4.1 Integration Workflow",
    "text": "4.1 Integration Workflow\n\n\n\n\n\nFig. 7. Integration workflow of meteorological and air quality data (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.knit.html#correlation-analysis-between-pollutants-and-meteorological-variables",
    "href": "notebook.knit.html#correlation-analysis-between-pollutants-and-meteorological-variables",
    "title": "Educational Notebook",
    "section": "4.2 Correlation Analysis between Pollutants and Meteorological Variables",
    "text": "4.2 Correlation Analysis between Pollutants and Meteorological Variables\nTo complement the integration workflow, this section computes the Spearman correlations between daily concentrations of NO‚ÇÇ and O‚ÇÉ and six meteorological parameters (temperature, relative humidity, wind speed, solar radiation, atmospheric pressure, and precipitation) using the validated datasets (2020‚Äì2024)."
  },
  {
    "objectID": "notebook.knit.html#correlation-analysis-between-pollutants-and-meteorological-variables-1",
    "href": "notebook.knit.html#correlation-analysis-between-pollutants-and-meteorological-variables-1",
    "title": "Educational Notebook",
    "section": "4.3 Correlation Analysis between Pollutants and Meteorological Variables",
    "text": "4.3 Correlation Analysis between Pollutants and Meteorological Variables\n\n\nCode\nlibrary(arrow)\n\n\nWarning: package 'arrow' was built under R version 4.4.3\n\n\n\nAdjuntando el paquete: 'arrow'\n\n\nThe following object is masked from 'package:utils':\n\n    timestamp\n\n\nCode\nlibrary(dplyr)\n\n\n\nAdjuntando el paquete: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(tidyr)\nlibrary(corrr)\n\n\nWarning: package 'corrr' was built under R version 4.4.3\n\n\nCode\nlibrary(knitr)\n\n\nWarning: package 'knitr' was built under R version 4.4.3\n\n\nCode\nlibrary(purrr)\n\n\nWarning: package 'purrr' was built under R version 4.4.3\n\n\nCode\nlibrary(lubridate)\n\n\nWarning: package 'lubridate' was built under R version 4.4.3\n\n\n\nAdjuntando el paquete: 'lubridate'\n\n\nThe following object is masked from 'package:arrow':\n\n    duration\n\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n\n\nCode\n# --- 1. Cargar y combinar archivos anuales ---\nair_files &lt;- list.files(\n  \"data/Calidad del Aire_Parquet\",\n  pattern = \"aire_validados_.*\\\\.parquet$\",\n  full.names = TRUE\n)\n\nmet_files &lt;- list.files(\n  \"data/Meteorologia_Parquet\",\n  pattern = \"meteo_validados_.*\\\\.parquet$\",\n  full.names = TRUE\n)\n\nair &lt;- map_dfr(air_files, read_parquet)\nmet &lt;- map_dfr(met_files, read_parquet)\n\n# --- 2. Crear variable diaria ---\nair &lt;- air %&gt;%\n  mutate(date = as.Date(FECHA_HORA))\n\nmet &lt;- met %&gt;%\n  mutate(date = as.Date(FECHA_HORA))\n\n# --- 3. Agregar diariamente y pivotar a formato ancho ---\nair_wide &lt;- air %&gt;%\n  mutate(MAGNITUD = as.character(MAGNITUD)) %&gt;%\n  group_by(date, MAGNITUD) %&gt;%\n  summarise(valor = mean(VALOR, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  pivot_wider(names_from = MAGNITUD, values_from = valor)\n\nmet_wide &lt;- met %&gt;%\n  mutate(MAGNITUD = as.character(MAGNITUD)) %&gt;%\n  group_by(date, MAGNITUD) %&gt;%\n  summarise(valor = mean(VALOR, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  pivot_wider(names_from = MAGNITUD, values_from = valor)\n\n# --- 4. Unir por fecha ---\ndata_joined &lt;- inner_join(air_wide, met_wide, by = \"date\")\n\n# --- 5. Renombrar magnitudes (solo las que existen) ---\ndata_joined &lt;- data_joined %&gt;%\n  rename_with(\n    ~ recode(\n      .x,\n      `8`  = \"NO2\",\n      `14` = \"O3\",\n      `81` = \"WS\",\n      `83` = \"T\",\n      `85` = \"PRES\",\n      `86` = \"RH\",\n      `87` = \"SR\",\n      `89` = \"PREC\"\n    ),\n    .cols = intersect(\n      names(data_joined),\n      c(\"8\", \"14\", \"81\", \"83\", \"85\", \"86\", \"87\", \"89\")\n    )\n  )\n\n# --- 6. Calcular correlaciones de Spearman (robusto) ---\nvars &lt;- c(\"NO2\", \"O3\", \"T\", \"RH\", \"WS\", \"SR\", \"PRES\", \"PREC\")\n\ncor_matrix &lt;- data_joined %&gt;%\n  select(any_of(vars)) %&gt;%\n  correlate(method = \"spearman\") %&gt;%\n  focus(any_of(c(\"NO2\", \"O3\"))) %&gt;%\n  arrange(term)\n\n\nCorrelation computed with\n‚Ä¢ Method: 'spearman'\n‚Ä¢ Missing treated using: 'pairwise.complete.obs'\n\n\nCode\n# --- 7. Mostrar tabla formateada ---\nkable(\n  cor_matrix %&gt;%\n    mutate(across(where(is.numeric), ~ round(.x, 2))),\n  caption = \"Table 4. Spearman correlation coefficients (œÅ) between daily pollutant concentrations and meteorological variables (2020‚Äì2024).\",\n  col.names = c(\"Variable\", \"NO‚ÇÇ\", \"O‚ÇÉ\")\n)\n\n\n\nTable 4. Spearman correlation coefficients (œÅ) between daily pollutant concentrations and meteorological variables (2020‚Äì2024).\n\n\nVariable\nNO‚ÇÇ\nO‚ÇÉ\n\n\n\n\nPREC\n-0.18\n-0.11\n\n\nRH\n0.24\n-0.70\n\n\nSR\n0.55\n-0.46\n\n\nT\n-0.35\n0.68\n\n\nWS\n-0.75\n0.57"
  }
]